# 側邊欄改版測試指南

**修改內容**: 將首頁改為按鈕，與功能模組分開
**測試狀態**: ⏳ 待測試

---

## 🎯 修改內容

### 修改前
```
功能模組
○ 首頁
○ 報表合併器
○ 資料清洗器
○ 員工查詢
○ 資格檢核器
○ 到期提醒
```

### 修改後
```
🏠 返回首頁  [按鈕]

───────────────

功能模組
○ 報表合併器
○ 資料清洗器
○ 員工查詢
○ 資格檢核器
○ 到期提醒
```

---

## 🧪 本地測試步驟

### 1. 啟動應用程式

```bash
# 在專案根目錄執行
streamlit run app.py --server.port=8503
```

### 2. 測試首頁按鈕

**測試項目**:
- [ ] 啟動後，預設顯示首頁
- [ ] 「🏠 返回首頁」按鈕是 primary 樣式（藍色/醒目）
- [ ] 點擊其他功能後，首頁按鈕變成 secondary 樣式（灰色）

### 3. 測試功能模組切換

**測試項目**:
- [ ] 點擊「報表合併器」，正常顯示報表合併器介面
- [ ] 點擊「資料清洗器」，正常顯示資料清洗器介面
- [ ] 點擊「員工查詢」，正常顯示員工查詢介面
- [ ] 點擊「資格檢核器」，正常顯示資格檢核器介面
- [ ] 點擊「到期提醒」，正常顯示到期提醒介面

### 4. 測試返回首頁

**測試項目**:
- [ ] 在任何功能頁面，點擊「🏠 返回首頁」按鈕
- [ ] 成功返回首頁，顯示使用指南
- [ ] 首頁按鈕變回 primary 樣式（藍色/醒目）

### 5. 測試頁面狀態保持

**測試項目**:
- [ ] 在報表合併器上傳檔案
- [ ] 切換到其他功能
- [ ] 切換回報表合併器
- [ ] 確認上傳的檔案狀態是否保持（這取決於模組的 session state 設計）

---

## ⚠️ 預期行為

### 正常情況

1. **首次載入**:
   - 顯示首頁
   - 首頁按鈕為 primary 樣式
   - 功能模組 radio 未選中任何項（或選中第一項但不顯示）

2. **切換功能**:
   - 點擊任何功能模組，立即切換
   - 首頁按鈕變為 secondary 樣式
   - 對應功能的內容正確顯示

3. **返回首頁**:
   - 點擊首頁按鈕，立即返回首頁
   - 首頁按鈕變為 primary 樣式
   - 顯示完整的使用指南

---

## 🐛 可能遇到的問題

### 問題 1: 首頁按鈕點擊後頁面重新整理但沒有切換

**原因**: Session state 更新問題

**解決方法**: 檢查 app.py 第 31-32 行的按鈕邏輯

---

### 問題 2: 功能模組選擇後出現錯誤

**可能原因**: `selected_module` 和 `current_page` 同步問題

**檢查**: app.py 第 54-56 行的邏輯

---

### 問題 3: 切換功能時出現 index 錯誤

**可能原因**: `current_page` 不在 `modules` 列表中

**檢查**: app.py 第 50 行的 index 計算

---

## ✅ 測試通過標準

所有以下項目都正常：

- [x] 首頁按鈕正常運作
- [x] 首頁按鈕樣式正確切換（primary/secondary）
- [x] 所有 5 個功能模組都能正常切換
- [x] 從任何頁面都能返回首頁
- [x] 沒有出現任何錯誤訊息
- [x] 側邊欄佈局美觀，分隔清楚

---

## 📝 測試結果記錄

### 測試環境
- **作業系統**: Windows
- **Python 版本**:
- **Streamlit 版本**:
- **瀏覽器**:

### 測試結果

| 測試項目 | 結果 | 備註 |
|---------|------|------|
| 啟動應用程式 | [ ] 通過 / [ ] 失敗 | |
| 首頁按鈕顯示 | [ ] 通過 / [ ] 失敗 | |
| 首頁按鈕樣式切換 | [ ] 通過 / [ ] 失敗 | |
| 切換到報表合併器 | [ ] 通過 / [ ] 失敗 | |
| 切換到資料清洗器 | [ ] 通過 / [ ] 失敗 | |
| 切換到員工查詢 | [ ] 通過 / [ ] 失敗 | |
| 切換到資格檢核器 | [ ] 通過 / [ ] 失敗 | |
| 切換到到期提醒 | [ ] 通過 / [ ] 失敗 | |
| 返回首頁功能 | [ ] 通過 / [ ] 失敗 | |

### 發現的問題

```
（請在此記錄測試時發現的任何問題）




```

### 截圖

（如有需要，可在此貼上截圖）

---

## 🚀 測試通過後

如果所有測試都通過，請告知，我會：

1. ✅ 同步更新 v2/ 資料夾
2. ✅ 推送到 GitHub
3. ✅ Render 自動部署

---

## 💡 提示

**快速測試指令**:
```bash
# 啟動應用程式
streamlit run app.py --server.port=8503

# 在瀏覽器開啟
# http://localhost:8503

# 停止應用程式
# Ctrl + C
```

**測試重點**:
1. 首頁按鈕是否獨立顯示在最上方
2. 功能模組是否在分隔線下方
3. 切換是否流暢無錯誤
4. 按鈕樣式是否正確變化

---

**開始測試！** 🧪

完成測試後，請告知結果，我會根據您的反饋進行調整。
